var GalleryModule=function(i,a){"use strict";var t=null,e=i("#ui-gallery-main-nav-cat a"),n=i(".ui-gallery-grid"),r=i(".gallery-preview-close"),o=i("#gallery-preview-next"),s=i("#gallery-preview-prev"),l=i(".gallery-ui-record"),c=i("#gallery-ui-preview"),u=i("#ui-gallery-main"),f=i("#overlay"),d=i("#gallery-ui-img"),g=i("#ui-gallery-main-nav-menu"),h=!1,m=!1,v=[],p=null,y={transition:"scale"},w=function(){f.show(),u.show(),g.show(),j(),f.delay(300).fadeOut(function(){h=!1,"block"===y.transition&&l.addClass("intro-show")})},C=function(){g.hide(),u.css({display:"none"}),a.scrollTo(0,0),d.ready(function(){c.fadeIn()})},k=function(){n.addClass("scale"),setTimeout(C,600)},x=function(a){a.preventDefault();var e=a.pageX+"px "+a.pageY+"px";t=this,p=i(this).data("position"),d.attr("src","images/"+v[p]),i(t).find(".start").removeClass("start-move-right"),i(t).find(".hover").removeClass("hover-move-right"),i(t).find(".cap-1, .cap-2, .cap-3").removeClass("cap-up"),n.css({"-webkit-transform-origin":e,"-moz-transform-origin":e,"-o-transform-origin":e,"-ms-transform-origin":e,"transform-origin":e}),m&&z(),i(t).addClass("fade"),"scale"===y.transition?setTimeout(k,600):(h=!0,i.scrollTo(0,0,{duration:600,onAfter:function(){l.removeClass("intro-show")}}),setTimeout(C,1200))},D=function(a){a.preventDefault(),i("body, #ui-main").addClass("no-scroll"),n.removeClass("scale"),i(t).removeClass("fade"),c.fadeOut("fast",w)},T=function(){return h?0:(i(this).find(".start").addClass("start-move-right"),i(this).find(".hover").addClass("hover-move-right"),i(this).find(".cap-1, .cap-2, .cap-3").addClass("cap-up"),void 0)},b=function(){return h?0:(i(this).find(".start").removeClass("start-move-right"),i(this).find(".hover").removeClass("hover-move-right"),i(this).find(".cap-1, .cap-2, .cap-3").removeClass("cap-up"),void 0)},j=function(){var a=l.width(),t=l.height(),e=i(".start img, .hover img");a>=800||t>=600?e.css({width:"1000px",height:"auto"}):a>=640||t>=480?e.css({width:"800px",height:"auto"}):e.css({width:"640px",height:"auto"})},O=function(){g.find("img").attr("src","images/menuClose.jpg"),i("#ui-gallery-main-nav").addClass("ui-gallery-main-nav-open"),m=!0},z=function(){g.find("img").attr("src","images/menu.jpg"),i("#ui-gallery-main-nav").removeClass("ui-gallery-main-nav-open"),m=!1},I=function(i){i.preventDefault(),m?z():O()},L=function(){for(var a=0,t=l.length;t>a;a++)v[a]=i(l[a]).find("a").attr("href"),i(l[a]).attr("data-position",a)},R=function(i){var a=function(){d.hide(),d.css({marginLeft:"0",marginRight:"0",opacity:"1"}),d.attr("src","images/"+v[p])};"left"==i?d.animate({marginLeft:"-100%",opacity:"0"},a):d.animate({marginRight:"-100%",opacity:"0"},a),d.ready(function(){d.fadeIn()})},S=function(i){i.preventDefault(),p<v.length-1?p++:p=0,R("right")},A=function(i){i.preventDefault(),p>0?p--:p=v.length-1,R("left")},G=function(a){a.preventDefault();var t=i(this).data("filter");"all"===t?alert("Show all"):alert("Show filter items")},M=function(){l.hover(T,b),l.click(x),r.click(D),o.click(S),s.click(A),g.click(I),e.click(G),i(a).resize(j)},P=function(i){i=i||"scale",a.scrollTo(0,0),i.hasOwnProperty("transition")&&"block"===i.transition&&(y.transition=i.transition),l.addClass("intro-show"),j(),L(),M()};return{init:P}}(jQuery,window);